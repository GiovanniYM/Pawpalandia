<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Agendar Citas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link rel="stylesheet" href="responsive.css">
    <link rel="stylesheet" class="js-color-style" href="./css/color-1.css">
    <link rel="stylesheet" class="js-glass-style" href="./css/glass.css" disabled>

</head>
<body>
    <!-- Page Loader -->
    <div class="page-loader js-page-loader">
        <div></div>
    </div>
    <!-- !Page Loader -->


    <!-- Main Wrapper -->
    <div class="main-wrapper">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-main d-flex justify-content-between align-items-center">
                    <div class="header-logo">
                        <img src="./imgs/Logo.png" alt="Logo de PawPalandia" style="height: 70px;">
                        <a href="./index.html"><span>Paw</span>Palandia</a>
                    </div>
                    <button type="button" class="header-hamburger-btn js-header-menu-toggler">
                        <span></span>
                    </button>
                    <div class="header-backdrop js-header-backdrop"></div>
                    <nav class="header-menu js-header-menu">
                        <button type="button" class="header-close-btn js-header-menu-toggler">
                            <i class="fas fa-times"></i>
                        </button>
                        <ul class="menu">
                            <li class="menu-item"><a href="#about-us">Sobre Nosotros</a></li>
                            <li class="menu-item menu-item-has-children">
                                <a href="#" class="js-toggle-sub-menu">Productos y servicios <i class="fas fa-chevron-down"></i></a>
                                <ul class="sub-menu js-sub-menu">
                                    <li class="sub-menu-item"><a href="courses.html">Productos</a></li>
                                    <li class="sub-menu-item"><a href="ListaItems.html">Lista de productos</a></li>
                                    <li class="sub-menu-item"><a href="product-registration.html">Registro de productos</a></li>
                                    <li class="sub-menu-item"><a href="agendar-servicios.html">Servicios</a></li>
                                </ul>
                            </li>
                            <li class="menu-item"><a href="contact.html">contacto</a></li>
                            <li class="menu-item menu-item-has-children">
                                <i class="fa-solid fa-user" style="color: var(--main-color);"></i>
                                <ul class="sub-menu js-sub-menu">
                                    <li class="sub-menu-item"><a href="log-in.html">Iniciar Sesión</a></li>
                                    <li class="sub-menu-item"><a href="sign-up.html">Registrarse</a></li>
                                </ul>
                            </li>

                            <li class="menu-item"><i class="menu-item fa-solid fa-cart-shopping" style="color: var(--main-color);"><a href="./payment.html"></a></i></li>
                            

                            <!-- Search Bar? -->
                            <!-- TBF -->
                            <!-- TBF -->
                            <!-- TBF -->
                            <!-- !Search Bar? -->
                        </ul>
                    </nav>
                </div>
            </div>
        </header>
        <!-- !Header -->




    <div class="booking-form-container mt-5">
        <h3 class="text-center header-logo"><span>Agenda tu servicio</span></h3>
        
        <!-- Formulario de citas -->
        <form id="form-citas">
            <div id="alerta-citas" class="alert d-none" role="alert"></div>
            <div class="mb-3">
                <p style="text-align: center;" class="header-logo">Llena este formulario o llámanos: <span>800 220 7735</span></p>
                <input type="text" class="form-control" id="clientName" placeholder="Nombre completo" required>
            </div>
            <div class="mb-3">
                <!-- <label for="nombre" class="form-label">Nombre de la Mascota</label> -->
                <input type="text" class="form-control" id="petName" placeholder="Nombre de la mascota" required>
            </div>
            <div class="mb-3">
                <!-- <label for="nombre" class="form-label">Raza</label> -->
                <input type="text" class="form-control" id="breed" placeholder="Raza (Si no tiene raza, pon Criollo)" required>
            </div>
            <div class="mb-3">
                <!-- <label for="email" class="form-label">Correo Electrónico</label> -->
                <input type="email" class="form-control" id="email" placeholder="Correo" required>
            </div>
            <div class="mb-3">
                <!-- <label for="telefono" class="form-label">Teléfono</label> -->
                <input type="tel" class="form-control" id="phoneNumber" placeholder="Teléfono (10 dígitos)" required>
            </div>
            <div class="mb-3">
                <!-- <label for="fecha-hora" class="form-label">Fecha y Hora</label> -->
                <input type="text" class="form-control" id="date" placeholder="Fecha/Hora (Citas de 10 a 18hrs)" required>
            </div>
            <div class="mb-3">
                <!-- <label for="servicio" class="form-label">Tipo de Servicio</label> -->
                <select class="form-select" id="kindOfService" required>
                    <option value="" disabled selected>Selecciona un servicio</option>
                    <option value="estetica">Estética Canina</option>
                    <option value="entrenamiento">Entrenamiento Canino</option>
                    <option value="veterinario">Servicio Veterinario</option>
                    <option value="cremacion">Cremación</option>
                </select>
            </div>
            <div class="mb-3">
                <!-- <label for="comentarios" class="form-label">Comentarios Adicionales</label> -->
                <textarea class="form-control" id="comment" rows="3" placeholder="Indicaciones (opcional)"></textarea>
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="privacyPolicyAccepted" required>
                <label class="form-check-label" for="terminos">
                    Acepto los <a href="./terminosCondiciones.html" target="_blank">términos y condiciones</a> y el <a href="privacyPolicy.html" target="_blank">aviso de privacidad</a>.
                </label>
            </div>
            <button type="submit" id="botonregistrarcita" class="btn btn-theme mb-4">Agendar Cita</button>
        </form>
        
        <hr>
        
        <!-- Formulario para solicitud de llamada -->
        <h3 class="text-center header-logo mb-3"><span>¿Prefieres que te llamemos?</span></h3>
        <form id="form-llamada">
            <div id="alerta-llamada" class="alert d-none" role="alert"></div>
            <div class="mb-3">
                <!-- <label for="nombre-llamada" class="form-label">Nombre</label> -->
                <input type="text" class="form-control" id="nombre-llamada" placeholder="Ingresa tu nombre" required>
            </div>
            <div class="mb-3">
                <!-- <label for="telefono-llamada" class="form-label">Teléfono</label> -->
                <input type="tel" class="form-control" id="telefono-llamada" placeholder="Ingresa tu teléfono" required>
            </div>
            <button type="submit" class="btn btn-theme mb-4">Solicitar Llamada</button>
        </form>
    </div>

            <!-- Footer -->
            <footer class="footer">
                <div class="footer-top">
                    <div class="container">
                        <div class="row">
                            <div class="col-sm-6 col-md-4 col-lg-2">
                                <div class="footer-item">
                                    <h3 class="footer-logo"><span>paw</span>palandia</h3>
                                    <ul>
                                        <li><a href="#"><i class="fab fa-facebook-f social-icon"></i> Facebook</a></li>
                                        <li><a href="#"><i class="fab fa-twitter social-icon"></i> Twitter</a></li>
                                        <li><a href="#"><i class="fab fa-instagram social-icon"></i> Instagram</a></li>
                                        <li><a href="#"><i class="fab fa-youtube social-icon"></i> YouTube</a></li>
                                        <li><a href="./blog/blog.html">Blog PawPalandia</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm-6 col-md-4 col-lg-2">
                                <div class="footer-item">
                                    <h3>Club PawPal</h3>
                                    <ul>
                                        <li><a href="log-in.html">Iniciar Sesión</a></li>
                                        <li><a href="sign-up.html">Crear Cuenta</a></li>
                                        <li><a href="#">¿Qué es Club PawPal?</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm-6 col-md-4 col-lg-2">
                                <div class="footer-item">
                                    <h3>Servicios</h3>
                                    <ul>
                                        <li><a href="agendar-servicios.html">Entrenamiento Canino</a></li>
                                        <li><a href="agendar-servicios.html">Estética Canina</a></li>
                                        <li><a href="agendar-servicios.html">Consulta Veterinaria</a></li>
                                        <li><a href="#">Adopciones</a></li>
                                        <li><a href="agendar-servicios.html">Cremaciones</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm-6 col-md-4 col-lg-2">
                                <div class="footer-item">
                                    <h3>Categorías</h3>
                                    <ul>
                                        <li><a href="#">Perros</a></li>
                                        <li><a href="#">Gatos</a></li>
                                        <li><a href="#">Salud e higiene</a></li>
                                        <li><a href="PagePromos.html">Promociones</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm-6 col-md-4 col-lg-2">
                                <div class="footer-item">
                                    <h3>Enlaces de interés</h3>
                                    <ul>
                                        <li><a href="privacyPolicy.html">Aviso de privacidad</a></li>
                                        <li><a href="terminosCondiciones.html">Términos y condiciones</a></li>
                                        <li><a href="#">Políticas de envío</a></li>
                                        <li><a href="#">Facturación</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm-6 col-md-4 col-lg-2">
                                <div class="footer-item">
                                    <h3 >Newsletter</h3>
                                    <ul>
                                        <li><a href="">Suscríbete y recibe promociones</a></li>
                                        <div id="alertContainer" class="mt-3"></div>
                                        <div class="input-group mb-2">
                                            <input type="text" id="emailInputN" class="form-control" placeholder="correo@mail.com" aria-label="email" aria-describedby="button-addon2">
                                            <button class="btn btn-outline-secondary" type="button" id="button-addon2" onclick="registerEmail()">></button>
                                        </div>
                                        <li><a href="#"><strong>Atención:</strong><br> Lunes a domingo de 7:00 a 0:00 Hrs</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <div class="container">
                        <p class="m-0 py-4 text-center">Copyright &copy;2024 PAWPALANDIA</p>
                    </div>
                </div>
             </footer>
            <!-- !Footer -->

    </div>
    <!-- !Main Wrapper -->

    <!-- Style Switcher -->
    <div class="style-switcher js-style-switcher">
        <div class="style-switcher-toggler js-style-switcher-toggler">
            <i class="fas fa-cog"></i>
        </div>
        <h3>Style Switcher</h3>
        <div class="style-switcher-item">
            <p class="mb-2">Theme Colors</p>
            <!-- Theme Colors -->
            <div class="theme-colors js-theme-colors">
                <button type="button" data-js-theme-color="color-1" class="js-theme-color-item color-1"></button>
                <button type="button" data-js-theme-color="color-2" class="js-theme-color-item color-2"></button>
                <button type="button" data-js-theme-color="color-3" class="js-theme-color-item color-3"></button>
                <button type="button" data-js-theme-color="color-4" class="js-theme-color-item color-4"></button>
                <button type="button" data-js-theme-color="color-5" class="js-theme-color-item color-5"></button>
            </div>
        </div>
        <div class="style-switcher-item">
            <div class="form-check form-switch">
                <input type="checkbox" class="form-check-input js-dark-mode" role="switch" id="dark-mode">
                <label for="dark-mode" class="form-check-label">Dark Mode</label>
            </div>
        </div>
        <div class="style-switcher-item">
            <div class="form-check form-switch">
                <input type="checkbox" class="form-check-input js-glass-effect" role="switch" id="glass-effect">
                <label for="glass-effect" class="form-check-label">Glass Effect</label>
            </div>
        </div>
    </div>
    <!-- !Style Switcher -->
    
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


    <script>
        // Conjunto para almacenar correos enviados
        const sentEmails = new Set();
    
        function registerEmail() {
            const emailInputN = document.getElementById('emailInputN').value;
            const alertContainer = document.getElementById('alertContainer');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Expresión regular para validar correos
            const emailValue = emailInputN.value.trim();
    
            // Limpia cualquier alerta anterior
            alertContainer.innerHTML = '';
    
            if (!emailRegex.test(emailValue)) {
                // Crear alerta de error para correo inválido
                alertContainer.innerHTML = `
                    <div class="alert alert-danger fade show" role="alert">
                        Esto no es un correo :(
                    </div>
                `;
                return;
            }
    
            if (sentEmails.has(emailValue)) {
                // Crear alerta si el correo ya fue enviado
                alertContainer.innerHTML = `
                    <div class="alert alert-warning fade show" role="alert">
                        Este correo ya fue enviado :|
                    </div>
                `;
                return;
            }
    
            // Agregar el correo al conjunto de enviados y mostrar éxito
            sentEmails.add(emailValue);
            alertContainer.innerHTML = `
                <div class="alert alert-success fade show" role="alert">
                    ¡Gracias! :)
                </div>
            `;
    
            // Borrar el contenido del campo de entrada
            emailInputN.value = '';
    
            // Quitar la alerta automáticamente después de 5 segundos
            setTimeout(() => {
                alertContainer.innerHTML = '';
            }, 5000);
        }
    </script>

    
 <script>
        const citasRegistradas = [];

// Inicializar Flatpickr
flatpickr("#date", {
    enableTime: true,
    dateFormat: "Y-m-d H:i", // Formato inicial para el selector
    time_24hr: true,
    minDate: "today",
    maxDate: new Date().fp_incr(15), // 15 días a partir de hoy
    minTime: "10:00",
    maxTime: "18:00",
    minuteIncrement: 60,
    onClose: function (selectedDates, dateStr, instance) {
        const citasRegistradas = ["2024-09-03T13:17"]; // Lista de citas registradas como ejemplo

        // Convertir la fecha seleccionada al formato deseado
        const date = new Date(dateStr);
        const formattedDate = date.toISOString().slice(0, 16); // Obtiene la fecha y hora en el formato 'YYYY-MM-DDTHH:MM'


        if (citasRegistradas.includes(formattedDate)) {
            alert("Esta hora ya está reservada. Por favor, elige otra.");
            instance.clear(); // Borra la selección si ya está reservada
        } else {
            console.log("Fecha seleccionada:", formattedDate); // Imprime la fecha en el formato correcto
        }
    }
});




        // Manejo del formulario de citas
        document.getElementById("form-citas").addEventListener("submit", function(event) {
            event.preventDefault();
            const nombre = document.getElementById("clientName").value.trim();
            const nombreMascota = document.getElementById("petName").value.trim();
            const raza = document.getElementById("breed").value.trim();
            const email = document.getElementById("email").value.trim();
            const telefono = document.getElementById("phoneNumber").value.trim();
            const fechaHora = document.getElementById("date").value.trim();
            const servicio = document.getElementById("kindOfService").value;
            const terminos = document.getElementById("privacyPolicyAccepted").checked;

            // Validaciones
            if (nombre.length < 4) {
                mostrarAlerta("alerta-citas", "El nombre debe tener al menos 4 caracteres.", "danger");
                return;
            }
            if (nombreMascota.length < 4) {
                mostrarAlerta("alerta-citas", "El nombre de la mascota debe tener al menos 4 caracteres.", "danger");
                return;
            }
            if (raza.length < 4) {
                mostrarAlerta("alerta-citas", "La raza de la mascota debe tener al menos 4 caracteres.", "danger");
                return;
            }
            if (email.length < 4) {
                mostrarAlerta("alerta-citas", "El correo electrónico debe tener al menos 4 caracteres.", "danger");
                return;
            }
            if (telefono.length !== 10 || isNaN(telefono)) {
                mostrarAlerta("alerta-citas", "El teléfono debe tener 10 números inluyendo lada.", "danger");
                return;
            }
            if (!fechaHora) {
                mostrarAlerta("alerta-citas", "Por favor, selecciona una fecha y hora.", "danger");
                return;
            }
            if (!servicio) {
                mostrarAlerta("alerta-citas", "Por favor, selecciona un tipo de servicio.", "danger");
                return;
            }
            if (!terminos) {
                mostrarAlerta("alerta-citas", "Debes aceptar los términos y condiciones.", "danger");
                return;
            }

            // Registrar la cita
            citasRegistradas.push(fechaHora);
            mostrarAlerta("alerta-citas", "¡Cita agendada con éxito! En unos momentos te contactaremos con la confirmación", "success");
            this.reset();
        });

        // Función para mostrar alertas
        function mostrarAlerta(id, mensaje, tipo) {
            const alerta = document.getElementById(id);
            alerta.className = `alert alert-${tipo}`;
            alerta.textContent = mensaje;
            alerta.classList.remove("d-none");
            setTimeout(() => alerta.classList.add("d-none"), 5000);
        }

        // Manejo del formulario para solicitud de llamada
document.getElementById("form-llamada").addEventListener("submit", function(event) {
    event.preventDefault();
    const nombreLlamada = document.getElementById("nombre-llamada").value.trim();
    const telefonoLlamada = document.getElementById("telefono-llamada").value.trim();

    // Validaciones
    if (nombreLlamada.length < 4) {
        mostrarAlerta("alerta-llamada", "El nombre debe tener al menos 4 caracteres.", "danger");
        return;
    }
    if (telefonoLlamada.length !== 10 || isNaN(telefonoLlamada)) {
        mostrarAlerta("alerta-llamada", "El teléfono debe tener 10 números incluyendo lada.", "danger");
        return;
    }

    // Confirmación de solicitud
    mostrarAlerta("alerta-llamada", "¡Solicitud recibida! En breve nos pondremos en contacto contigo.", "success");
    this.reset();
});
    </script>
        <script src="main.js"></script>
        <script src="newsletterScript.js"></script>
        <script src="agendarServicioScripts.js"></script>
    
</body>
</html>
